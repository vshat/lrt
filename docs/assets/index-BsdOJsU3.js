var Re=Object.defineProperty;var ze=(t,e,n)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>(ze(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function q(){}function Te(t){return t()}function Ee(){return Object.create(null)}function X(t){t.forEach(Te)}function Ie(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function He(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function Ce(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function te(t){return document.createTextNode(t)}function P(){return te(" ")}function Ye(){return te("")}function O(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qe(t){return Array.from(t.childNodes)}function be(t,e){e=""+e,t.data!==e&&(t.data=e)}function ge(t,e){t.value=e??""}function U(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Be(t,e,n){for(let l=0;l<t.options.length;l+=1){const o=t.options[l];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Qe(t){const e=t.querySelector(":checked");return e&&e.__value}let ye;function le(t){ye=t}const $=[],_e=[];let ee=[];const Le=[],Ne=Promise.resolve();let pe=!1;function We(){pe||(pe=!0,Ne.then(je))}function Ge(){return We(),Ne}function ce(t){ee.push(t)}const he=new Set;let Z=0;function je(){if(Z!==0)return;const t=ye;do{try{for(;Z<$.length;){const e=$[Z];Z++,le(e),Ke(e.$$)}}catch(e){throw $.length=0,Z=0,e}for(le(null),$.length=0,Z=0;_e.length;)_e.pop()();for(let e=0;e<ee.length;e+=1){const n=ee[e];he.has(n)||(he.add(n),n())}ee.length=0}while($.length);for(;Le.length;)Le.pop()();pe=!1,he.clear(),le(t)}function Ke(t){if(t.fragment!==null){t.update(),X(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}function Xe(t){const e=[],n=[];ee.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ee=e}const xe=new Set;function Me(t,e){t&&t.i&&(xe.delete(t),t.i(e))}function oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ve(t,e){t.d(1),e.delete(t.key)}function Je(t,e,n,l,o,r,u,s,b,i,d,h){let f=t.length,g=r.length,k=f;const m={};for(;k--;)m[t[k].key]=k;const T=[],R=new Map,E=new Map,A=[];for(k=g;k--;){const F=h(o,r,k),w=n(F);let B=u.get(w);B?l&&A.push(()=>B.p(F,e)):(B=i(w,F),B.c()),R.set(w,T[k]=B),w in m&&E.set(w,Math.abs(k-m[w]))}const N=new Set,G=new Set;function z(F){Me(F,1),F.m(s,d),u.set(F.key,F),d=F.first,g--}for(;f&&g;){const F=T[g-1],w=t[f-1],B=F.key,H=w.key;F===w?(d=F.first,f--,g--):R.has(H)?!u.has(B)||N.has(B)?z(F):G.has(H)?f--:E.get(B)>E.get(H)?(G.add(B),z(F)):(N.add(H),f--):(b(w,u),f--)}for(;f--;){const F=t[f];R.has(F.key)||b(F,u)}for(;g;)z(T[g-1]);return X(A),T}function Ze(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),ce(()=>{const r=t.$$.on_mount.map(Te).filter(Ie);t.$$.on_destroy?t.$$.on_destroy.push(...r):X(r),t.$$.on_mount=[]}),o.forEach(ce)}function $e(t,e){const n=t.$$;n.fragment!==null&&(Xe(n.after_update),X(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){t.$$.dirty[0]===-1&&($.push(t),We(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,e,n,l,o,r,u=null,s=[-1]){const b=ye;le(t);const i=t.$$={fragment:null,ctx:[],props:r,update:q,not_equal:o,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(b?b.$$.context:[])),callbacks:Ee(),dirty:s,skip_bound:!1,root:e.target||b.$$.root};u&&u(i.root);let d=!1;if(i.ctx=n?n(t,e.props||{},(h,f,...g)=>{const k=g.length?g[0]:f;return i.ctx&&o(i.ctx[h],i.ctx[h]=k)&&(!i.skip_bound&&i.bound[h]&&i.bound[h](k),d&&et(t,h)),f}):[],i.update(),d=!0,X(i.before_update),i.fragment=l?l(i.ctx):!1,e.target){if(e.hydrate){const h=qe(e.target);i.fragment&&i.fragment.l(h),h.forEach(j)}else i.fragment&&i.fragment.c();e.intro&&Me(t.$$.fragment),Ze(t,e.target,e.anchor),je()}le(b)}class nt{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){$e(this,1),this.$destroy=q}$on(e,n){if(!Ie(n))return q;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!He(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function ot(t){const e={title:"",lines:[]};let n=[],l=0;return t.split(`
`).forEach(o=>{let r=l;l+=o.length+1,o.trim().length!=0&&(o.indexOf("!!")===0&&!e.title.length?e.title=o.substring(2):(n.length==2&&(e.lines.push({targetLanguage:n[0],originalLanguage:n[1],words:[]}),n.length=0),o[0]=="-"?(n.length==1&&(e.lines.push({targetLanguage:n[0],words:[]}),n.length=0),e.lines.push({isLineBreak:!0,words:[]})):n.push({value:o,start:r,end:r+o.length})))}),n.length&&e.lines.push({targetLanguage:n[0],originalLanguage:n[1],words:[]}),e.lines.forEach(o=>{o.words=ut(o.targetLanguage,o.originalLanguage)}),e}function ut(t,e){const n=u(t),l=u(e),o=[],r=Math.max(n.length,l.length);for(let i=0;i<r;i++)o.push({left:n[i],right:l[i]});return o;function u(i){return i==null?[]:b(s(i))}function s(i){const d=/[^+ ]+|\+/gm,h=[];let f;for(;(f=d.exec(i.value))!==null;){f.index===d.lastIndex&&d.lastIndex++;const g=i.start+f.index;h.push({value:f[0],start:g,end:g+f[0].length})}return h}function b(i){const d=[];for(let h=0;h<i.length;h++){let f=i[h];if(f.value=="+"&&h>0&&h<i.length-1){const g=d[d.length-1];let k;do k=i[h+1],h++;while(k.value=="+"&&h<i.length-1);const m={value:g.value+" "+k.value,start:g.start,end:k.end};d[d.length-1]=m}else d.push(f)}return d}}const me=[{name:"Classic",foreground:"#009682",background:"#26d1ba"},{name:"Red",foreground:"#D32F2F",background:"#FF8A80"},{name:"Pink",foreground:"#C2185B",background:"#FF80AB"},{name:"Purple",foreground:"#7B1FA2",background:"#EA80FC"},{name:"Deep Purple",foreground:"#512DA8",background:"#B388FF"},{name:"Indigo",foreground:"#303F9F",background:"#8C9EFF"},{name:"Blue",foreground:"#1976D2",background:"#82B1FF"},{name:"Light Blue",foreground:"#0288D1",background:"#80D8FF"},{name:"Cyan",foreground:"#0097A7",background:"#84FFFF"},{name:"Teal",foreground:"#00796B",background:"#A7FFEB"},{name:"Green",foreground:"#388E3C",background:"#B9F6CA"},{name:"Light Green",foreground:"#689F38",background:"#CCFF90"},{name:"Lime",foreground:"#AFB42B",background:"#F4FF81"},{name:"Yellow",foreground:"#FBC02D",background:"#FFFF8D"},{name:"Amber",foreground:"#FFA000",background:"#FFE57F"},{name:"Orange",foreground:"#F57C00",background:"#FFD180"},{name:"Deep Orange",foreground:"#E64A19",background:"#FF9E80"}];function Ae(t,e,n){const l=t.slice();return l[31]=e[n],l}function De(t,e,n){const l=t.slice();return l[34]=e[n],l}function rt(t,e,n){const l=t.slice();return l[37]=e[n],l}function it(t){let e;return{c(){e=y("option"),e.textContent=`${t[37].name} `,e.__value=t[37],ge(e,e.__value)},m(n,l){M(n,e,l)},p:q,d(n){n&&j(e)}}}function Pe(t){let e,n=t[2].title+"",l;return{c(){e=y("h3"),l=te(n)},m(o,r){M(o,e,r),c(e,l)},p(o,r){r[0]&4&&n!==(n=o[2].title+"")&&be(l,n)},d(o){o&&j(e)}}}function st(t){let e=[],n=new Map,l,o=oe(t[31].words);const r=u=>ue(u[34]);for(let u=0;u<o.length;u+=1){let s=De(t,o,u),b=r(s);n.set(b,e[u]=Se(b,s))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();l=Ye()},m(u,s){for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(u,s);M(u,l,s)},p(u,s){s[0]&65996&&(o=oe(u[31].words),e=Je(e,s,r,1,u,o,n,l.parentNode,Ve,Se,l,De))},d(u){u&&j(l);for(let s=0;s<e.length;s+=1)e[s].d(u)}}}function ct(t){let e;return{c(){e=y("hr")},m(n,l){M(n,e,l)},p:q,d(n){n&&j(e)}}}function ft(t){let e;return{c(){e=y("span"),e.textContent="⚠️",U(e,"font-style","normal")},m(n,l){M(n,e,l)},p:q,d(n){n&&j(e)}}}function dt(t){let e=t[34].left.value+"",n;return{c(){n=te(e)},m(l,o){M(l,n,o)},p(l,o){o[0]&4&&e!==(e=l[34].left.value+"")&&be(n,e)},d(l){l&&j(n)}}}function at(t){let e;return{c(){e=y("span"),e.textContent="⚠️",U(e,"font-style","normal")},m(n,l){M(n,e,l)},p:q,d(n){n&&j(e)}}}function ht(t){let e=t[34].right.value+"",n;return{c(){n=te(e)},m(l,o){M(l,n,o)},p(l,o){o[0]&4&&e!==(e=l[34].right.value+"")&&be(n,e)},d(l){l&&j(n)}}}function Se(t,e){let n,l,o,r,u,s,b,i;function d(E,A){return E[34].left?dt:ft}let h=d(e),f=h(e);function g(E,A){return E[34].right?ht:at}let k=g(e),m=k(e);function T(){return e[22](e[34])}function R(...E){return e[24](e[34],...E)}return{key:t,first:null,c(){n=y("div"),l=y("div"),f.c(),o=P(),r=y("div"),m.c(),s=P(),v(l,"data-type","left"),v(r,"data-type","right"),v(r,"style",u=e[6][ue(e[34])]?e[8]:e[7]),v(n,"class","dword"),this.first=n},m(E,A){M(E,n,A),c(n,l),f.m(l,null),c(n,o),c(n,r),m.m(r,null),c(n,s),b||(i=[O(n,"mouseenter",T),O(n,"mouseleave",e[23]),O(n,"click",R)],b=!0)},p(E,A){e=E,h===(h=d(e))&&f?f.p(e,A):(f.d(1),f=h(e),f&&(f.c(),f.m(l,null))),k===(k=g(e))&&m?m.p(e,A):(m.d(1),m=k(e),m&&(m.c(),m.m(r,null))),A[0]&452&&u!==(u=e[6][ue(e[34])]?e[8]:e[7])&&v(r,"style",u)},d(E){E&&j(n),f.d(),m.d(),b=!1,X(i)}}}function Oe(t){let e,n;function l(u,s){return u[31].isLineBreak?ct:st}let o=l(t),r=o(t);return{c(){e=y("div"),r.c(),n=P(),v(e,"class","line")},m(u,s){M(u,e,s),r.m(e,null),c(e,n)},p(u,s){o===(o=l(u))&&r?r.p(u,s):(r.d(1),r=o(u),r&&(r.c(),r.m(e,n)))},d(u){u&&j(e),r.d()}}}function gt(t){let e,n,l,o,r,u,s,b,i,d,h,f,g,k,m,T,R,E,A,N,G,z,F,w,B,H,x,re,ne,I,ie,Q,_,p,L,V,ke,Y,fe,se,de,ve,we=oe(me),K=[];for(let a=0;a<we.length;a+=1)K[a]=it(rt(t,we,a));let S=t[2].title.length&&Pe(t),J=oe(t[2].lines),D=[];for(let a=0;a<J.length;a+=1)D[a]=Oe(Ae(t,J,a));return{c(){e=y("div"),n=y("div"),l=y("div"),o=y("div"),r=y("div"),u=y("button"),s=te("Editor"),i=P(),d=y("div"),h=y("button"),h.textContent="Hide all",f=P(),g=y("button"),g.textContent="Show all",k=P(),m=y("div"),T=y("button"),T.textContent="Clear",R=P(),E=y("button"),E.textContent="Load TXT",A=P(),N=y("input"),G=P(),z=y("button"),z.textContent="Save TXT",F=P(),w=y("div"),B=y("button"),B.textContent="Help",H=P(),x=y("button"),x.textContent="Print",re=P(),ne=y("span"),I=y("select");for(let a=0;a<K.length;a+=1)K[a].c();ie=P(),Q=y("div"),_=y("div"),p=y("textarea"),ke=P(),Y=y("div"),S&&S.c(),fe=P();for(let a=0;a<D.length;a+=1)D[a].c();v(u,"class",b="editor-button "+(t[5]?"button-primary":"")),v(r,"class","two columns"),v(d,"class","three columns"),v(N,"type","file"),v(N,"accept",".txt"),v(N,"id","uploadFile"),N.hidden=!0,v(m,"class","four columns"),U(m,"text-align","right"),U(I,"width","50px"),U(I,"appearance","none"),U(I,"border","2px solid "+t[1].foreground),t[1]===void 0&&ce(()=>t[19].call(I)),v(w,"class","three columns"),U(w,"text-align","right"),v(o,"class","controls row"),v(p,"class",L=t[5]?"splitted":""),v(p,"spellcheck","false"),v(p,"placeholder","Paste text here"),v(_,"class",V="one-third column editor "+(t[5]?"":"hidden")),v(Y,"class",se="column content "+(t[5]?"splitted two-thirds":"")),v(Q,"class","row"),v(l,"class","column"),v(n,"class","row"),U(n,"margin-top","1%"),U(n,"margin-bottom","1%"),v(e,"class","container")},m(a,W){M(a,e,W),c(e,n),c(n,l),c(l,o),c(o,r),c(r,u),c(u,s),c(o,i),c(o,d),c(d,h),c(d,f),c(d,g),c(o,k),c(o,m),c(m,T),c(m,R),c(m,E),c(m,A),c(m,N),c(m,G),c(m,z),c(o,F),c(o,w),c(w,B),c(w,H),c(w,x),c(w,re),c(w,ne),c(ne,I);for(let C=0;C<K.length;C+=1)K[C]&&K[C].m(I,null);Be(I,t[1],!0),c(l,ie),c(l,Q),c(Q,_),c(_,p),ge(p,t[0]),t[21](p),c(Q,ke),c(Q,Y),S&&S.m(Y,null),c(Y,fe);for(let C=0;C<D.length;C+=1)D[C]&&D[C].m(Y,null);de||(ve=[O(u,"click",t[12]),O(h,"click",t[17]),O(g,"click",t[18]),O(T,"click",t[13]),O(E,"click",_t),O(N,"change",t[14]),O(z,"click",t[15]),O(B,"click",t[10]),O(x,"click",t[11]),O(I,"change",t[19]),O(p,"input",t[20])],de=!0)},p(a,W){if(W[0]&32&&b!==(b="editor-button "+(a[5]?"button-primary":""))&&v(u,"class",b),W[0]&2&&U(I,"border","2px solid "+a[1].foreground),W[0]&2&&Be(I,a[1]),W[0]&32&&L!==(L=a[5]?"splitted":"")&&v(p,"class",L),W[0]&1&&ge(p,a[0]),W[0]&32&&V!==(V="one-third column editor "+(a[5]?"":"hidden"))&&v(_,"class",V),a[2].title.length?S?S.p(a,W):(S=Pe(a),S.c(),S.m(Y,fe)):S&&(S.d(1),S=null),W[0]&65996){J=oe(a[2].lines);let C;for(C=0;C<J.length;C+=1){const Fe=Ae(a,J,C);D[C]?D[C].p(Fe,W):(D[C]=Oe(Fe),D[C].c(),D[C].m(Y,null))}for(;C<D.length;C+=1)D[C].d(1);D.length=J.length}W[0]&32&&se!==(se="column content "+(a[5]?"splitted two-thirds":""))&&v(Y,"class",se)},i:q,o:q,d(a){a&&j(e),Ce(K,a),t[21](null),S&&S.d(),Ce(D,a),de=!1,X(ve)}}}function _t(){document.getElementById("uploadFile").click()}function ue(t){var e,n;return((e=t.left)==null?void 0:e.start)??((n=t.right)==null?void 0:n.start)??-1}function pt(t,e,n){t.focus();const l=t.value;t.value=l.substring(0,n),t.scrollTop=t.scrollHeight,t.value=l,t.setSelectionRange(e,n)}function mt(t,e){var n=e.getBoundingClientRect(),l=t.clientY-n.top,o=n.bottom-n.top;return l<o/2?0:1}function bt(t,e,n){let l,o;const r=`!!Language Learning Tool

try to+click on words and buttons

попробуй нажать на слова и кнопки
let's learn
давай изучать

your language
твой язык

(hover a+word and press "Q" for fun)
наведи на+слово и нажми "Q" для веселья
-
while you're+enjoying+it
пока тебе+это+нравится
`;let u=null,s="",b,i=!0,d;const h=localStorage.getItem("selectedColorName"),f=me.find(_=>_.name==h);f?d=f:d=me[0];let g={};window.onload=()=>{n(0,s=b.value)};let k={title:"",lines:[]};window.onbeforeunload=function(_){s.trim()!=""&&_.preventDefault()},document.body.addEventListener("keydown",_=>{_.code=="KeyQ"&&(u!=null&&u.length)&&(_.preventDefault(),window.open("https://wooordhunt.ru/word/"+u))});function m(_){if(_){const p={};k.lines.flatMap(L=>L.words.map(ue)).forEach(L=>{p[L]=!0}),n(6,g=p)}else n(6,g={})}function T(){n(5,i=!0),(!s.length||confirm("Are you sure? Your text will be discarded"))&&n(0,s=r)}async function R(){n(5,i=!1),m(!1),await Ge(),print()}function E(){n(5,i=!i)}function A(){confirm("Are you sure? Your text will be discarded")&&(n(5,i=!0),n(0,s=""))}function N(){const _=document.getElementById("uploadFile").files[0];_&&G(_,document.querySelector(".editor>textarea"))}function G(_,p){const L=new FileReader;L.addEventListener("load",V=>{n(0,s=V.target.result.toString()),document.getElementById("uploadFile").value=null}),L.readAsText(_)}function z(){let _=document.title+"-"+Date.now()+".txt",p=document.createElement("a");p.download=_;let L=new Blob([""+s],{type:"text/plain"});p.href=URL.createObjectURL(L),p.click(),URL.revokeObjectURL(p.href)}function F(_,p){if(i)p.right&&p.left?mt(_,_.currentTarget)==1?w(p.right):w(p.left):p.right?w(p.right):p.left&&w(p.left);else{const L=ue(p);g[L]?delete g[L]:n(6,g[L]=!0,g),n(6,g),n(0,s)}}function w(_){pt(b,_.start,_.end)}const B=()=>m(!0),H=()=>m(!1);function x(){d=Qe(this),n(1,d)}function re(){s=this.value,n(0,s)}function ne(_){_e[_?"unshift":"push"](()=>{b=_,n(4,b)})}const I=_=>{var p;return n(3,u=(p=_.left)==null?void 0:p.value)},ie=()=>n(3,u=void 0),Q=(_,p)=>F(p,_);return t.$$.update=()=>{t.$$.dirty[0]&2&&n(8,l=`background: ${d.background}; color: ${d.background}`),t.$$.dirty[0]&2&&n(7,o=`color: ${d.foreground}`),t.$$.dirty[0]&2&&localStorage.setItem("selectedColorName",d.name),t.$$.dirty[0]&5&&(n(2,k=ot(s)),document.title=k.title),t.$$.dirty[0]&1&&n(6,g={})},[s,d,k,u,b,i,g,o,l,m,T,R,E,A,N,z,F,B,H,x,re,ne,I,ie,Q]}class yt extends nt{constructor(e){super(),tt(this,e,bt,gt,Ue,{},null,[-1,-1])}}new yt({target:document.getElementById("app")});
