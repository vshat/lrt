var Se=Object.defineProperty;var Ie=(t,e,n)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>(Ie(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();function H(){}function Ce(t){return t()}function me(){return Object.create(null)}function q(t){t.forEach(Ce)}function Be(t){return typeof t=="function"}function Ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function De(t){return Object.keys(t).length===0}function s(t,e){t.appendChild(e)}function R(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function We(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function J(t){return document.createTextNode(t)}function S(){return J(" ")}function je(){return J("")}function A(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Me(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e){t.value=e??""}function V(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let he;function Z(t){he=t}const $=[],ce=[];let G=[];const ye=[],Te=Promise.resolve();let fe=!1;function Fe(){fe||(fe=!0,Te.then(Oe))}function Ne(){return Fe(),Te}function de(t){G.push(t)}const se=new Set;let X=0;function Oe(){if(X!==0)return;const t=he;do{try{for(;X<$.length;){const e=$[X];X++,Z(e),ze(e.$$)}}catch(e){throw $.length=0,X=0,e}for(Z(null),$.length=0,X=0;ce.length;)ce.pop()();for(let e=0;e<G.length;e+=1){const n=G[e];se.has(n)||(se.add(n),n())}G.length=0}while($.length);for(;ye.length;)ye.pop()();fe=!1,se.clear(),Z(t)}function ze(t){if(t.fragment!==null){t.update(),q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function Re(t){const e=[],n=[];G.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),G=e}const xe=new Set;function Pe(t,e){t&&t.i&&(xe.delete(t),t.i(e))}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ue(t,e){t.d(1),e.delete(t.key)}function He(t,e,n,l,u,o,i,c,d,r,h,a){let f=t.length,b=o.length,y=f;const _={};for(;y--;)_[t[y].key]=y;const I=[],j=new Map,k=new Map,B=[];for(y=b;y--;){const E=a(u,o,y),L=n(E);let T=i.get(L);T?l&&B.push(()=>T.p(E,e)):(T=r(L,E),T.c()),j.set(L,I[y]=T),L in _&&k.set(L,Math.abs(y-_[L]))}const D=new Set,Q=new Set;function M(E){Pe(E,1),E.m(c,h),i.set(E.key,E),h=E.first,b--}for(;f&&b;){const E=I[b-1],L=t[f-1],T=E.key,x=L.key;E===L?(h=E.first,f--,b--):j.has(x)?!i.has(T)||D.has(T)?M(E):Q.has(x)?f--:k.get(T)>k.get(x)?(Q.add(T),M(E)):(D.add(x),f--):(d(L,i),f--)}for(;f--;){const E=t[f];j.has(E.key)||d(E,i)}for(;b;)M(I[b-1]);return q(B),I}function Qe(t,e,n){const{fragment:l,after_update:u}=t.$$;l&&l.m(e,n),de(()=>{const o=t.$$.on_mount.map(Ce).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...o):q(o),t.$$.on_mount=[]}),u.forEach(de)}function Ye(t,e){const n=t.$$;n.fragment!==null&&(Re(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(t,e){t.$$.dirty[0]===-1&&($.push(t),Fe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ke(t,e,n,l,u,o,i=null,c=[-1]){const d=he;Z(t);const r=t.$$={fragment:null,ctx:[],props:o,update:H,not_equal:u,bound:me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:me(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};i&&i(r.root);let h=!1;if(r.ctx=n?n(t,e.props||{},(a,f,...b)=>{const y=b.length?b[0]:f;return r.ctx&&u(r.ctx[a],r.ctx[a]=y)&&(!r.skip_bound&&r.bound[a]&&r.bound[a](y),h&&qe(t,a)),f}):[],r.update(),h=!0,q(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const a=Me(e.target);r.fragment&&r.fragment.l(a),a.forEach(W)}else r.fragment&&r.fragment.c();e.intro&&Pe(t.$$.fragment),Qe(t,e.target,e.anchor),Oe()}Z(d)}class Xe{constructor(){re(this,"$$");re(this,"$$set")}$destroy(){Ye(this,1),this.$destroy=H}$on(e,n){if(!Be(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}$set(e){this.$$set&&!De(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($e);function Ve(t){const e={title:"",lines:[]};let n=[],l=0;return t.split(`
`).forEach(u=>{let o=l;l+=u.length+1,u.trim().length!=0&&(u.indexOf("!!")===0&&!e.title.length?e.title=u.substring(2):(n.length==2&&(e.lines.push({targetLanguage:n[0],originalLanguage:n[1],words:[]}),n.length=0),u[0]=="-"?(n.length==1&&(e.lines.push({targetLanguage:n[0],words:[]}),n.length=0),e.lines.push({isLineBreak:!0,words:[]})):n.push({value:u,start:o,end:o+u.length})))}),n.length&&e.lines.push({targetLanguage:n[0],originalLanguage:n[1],words:[]}),e.lines.forEach(u=>{u.words=Ge(u.targetLanguage,u.originalLanguage)}),e}function Ge(t,e){const n=i(t),l=i(e),u=[],o=Math.max(n.length,l.length);for(let r=0;r<o;r++)u.push({left:n[r],right:l[r]});return u;function i(r){return r==null?[]:d(c(r))}function c(r){const h=/[^+ ]+|\+/gm,a=[];let f;for(;(f=h.exec(r.value))!==null;){f.index===h.lastIndex&&h.lastIndex++;const b=r.start+f.index;a.push({value:f[0],start:b,end:b+f[0].length})}return a}function d(r){const h=[];for(let a=0;a<r.length;a++){let f=r[a];if(f.value=="+"&&a>0&&a<r.length-1){const b=h[h.length-1];let y;do y=r[a+1],a++;while(y.value=="+"&&a<r.length-1);const _={value:b.value+" "+y.value,start:b.start,end:y.end};h[h.length-1]=_}else h.push(f)}return h}}function ve(t,e,n){const l=t.slice();return l[25]=e[n],l}function we(t,e,n){const l=t.slice();return l[28]=e[n],l}function ke(t){let e,n=t[1].title+"",l;return{c(){e=p("h3"),l=J(n)},m(u,o){R(u,e,o),s(e,l)},p(u,o){o&2&&n!==(n=u[1].title+"")&&ae(l,n)},d(u){u&&W(e)}}}function Je(t){let e=[],n=new Map,l,u=ue(t[25].words);const o=i=>ee(i[28]);for(let i=0;i<u.length;i+=1){let c=we(t,u,i),d=o(c);n.set(d,e[i]=Ee(d,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=je()},m(i,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,c);R(i,l,c)},p(i,c){c&8230&&(u=ue(i[25].words),e=He(e,c,o,1,i,u,n,l.parentNode,Ue,Ee,l,we))},d(i){i&&W(l);for(let c=0;c<e.length;c+=1)e[c].d(i)}}}function Ze(t){let e;return{c(){e=p("hr")},m(n,l){R(n,e,l)},p:H,d(n){n&&W(e)}}}function et(t){let e;return{c(){e=p("span"),e.textContent="⚠️",V(e,"font-style","normal")},m(n,l){R(n,e,l)},p:H,d(n){n&&W(e)}}}function tt(t){let e=t[28].left.value+"",n;return{c(){n=J(e)},m(l,u){R(l,n,u)},p(l,u){u&2&&e!==(e=l[28].left.value+"")&&ae(n,e)},d(l){l&&W(n)}}}function nt(t){let e;return{c(){e=p("span"),e.textContent="⚠️",V(e,"font-style","normal")},m(n,l){R(n,e,l)},p:H,d(n){n&&W(e)}}}function lt(t){let e=t[28].right.value+"",n;return{c(){n=J(e)},m(l,u){R(l,n,u)},p(l,u){u&2&&e!==(e=l[28].right.value+"")&&ae(n,e)},d(l){l&&W(n)}}}function Ee(t,e){let n,l,u,o,i,c,d,r;function h(k,B){return k[28].left?tt:et}let a=h(e),f=a(e);function b(k,B){return k[28].right?lt:nt}let y=b(e),_=y(e);function I(){return e[18](e[28])}function j(...k){return e[20](e[28],...k)}return{key:t,first:null,c(){n=p("div"),l=p("div"),f.c(),u=S(),o=p("div"),_.c(),c=S(),m(l,"data-type","left"),m(o,"data-type","right"),m(o,"class",i=e[5][ee(e[28])]?"puzzled":""),m(n,"class","dword"),this.first=n},m(k,B){R(k,n,B),s(n,l),f.m(l,null),s(n,u),s(n,o),_.m(o,null),s(n,c),d||(r=[A(n,"mouseenter",I),A(n,"mouseleave",e[19]),A(n,"click",j)],d=!0)},p(k,B){e=k,a===(a=h(e))&&f?f.p(e,B):(f.d(1),f=a(e),f&&(f.c(),f.m(l,null))),y===(y=b(e))&&_?_.p(e,B):(_.d(1),_=y(e),_&&(_.c(),_.m(o,null))),B&34&&i!==(i=e[5][ee(e[28])]?"puzzled":"")&&m(o,"class",i)},d(k){k&&W(n),f.d(),_.d(),d=!1,q(r)}}}function Le(t){let e,n;function l(i,c){return i[25].isLineBreak?Ze:Je}let u=l(t),o=u(t);return{c(){e=p("div"),o.c(),n=S(),m(e,"class","line")},m(i,c){R(i,e,c),o.m(e,null),s(e,n)},p(i,c){u===(u=l(i))&&o?o.p(i,c):(o.d(1),o=u(i),o&&(o.c(),o.m(e,n)))},d(i){i&&W(e),o.d()}}}function ut(t){let e,n,l,u,o,i,c,d,r,h,a,f,b,y,_,I,j,k,B,D,Q,M,E,L,T,x,g,v,C,Y,N,te,ne,ge,U,oe,le,ie,_e,P=t[1].title.length&&ke(t),K=ue(t[1].lines),O=[];for(let w=0;w<K.length;w+=1)O[w]=Le(ve(t,K,w));return{c(){e=p("div"),n=p("div"),l=p("div"),u=p("div"),o=p("div"),i=p("button"),c=J("Editor"),r=S(),h=p("div"),a=p("button"),a.textContent="Hide all",f=S(),b=p("button"),b.textContent="Show all",y=S(),_=p("div"),I=p("button"),I.textContent="Clear",j=S(),k=p("button"),k.textContent="Load TXT",B=S(),D=p("input"),Q=S(),M=p("button"),M.textContent="Save TXT",E=S(),L=p("div"),T=p("button"),T.textContent="Help",x=S(),g=p("button"),g.textContent="Print",v=S(),C=p("div"),Y=p("div"),N=p("textarea"),ge=S(),U=p("div"),P&&P.c(),oe=S();for(let w=0;w<O.length;w+=1)O[w].c();m(i,"class",d="editor-button "+(t[4]?"button-primary":"")),m(o,"class","three columns"),m(h,"class","three columns"),m(D,"type","file"),m(D,"accept",".txt"),m(D,"id","uploadFile"),D.hidden=!0,m(_,"class","four columns"),V(_,"text-align","right"),m(L,"class","two columns"),V(L,"text-align","right"),m(u,"class","controls row"),m(N,"class",te=t[4]?"splitted":""),m(N,"spellcheck","false"),m(N,"placeholder","Paste text here"),m(Y,"class",ne="one-third column editor "+(t[4]?"":"hidden")),m(U,"class",le="column content "+(t[4]?"splitted two-thirds":"")),m(C,"class","row"),m(l,"class","column"),m(n,"class","row"),V(n,"margin-top","1%"),V(n,"margin-bottom","1%"),m(e,"class","container")},m(w,z){R(w,e,z),s(e,n),s(n,l),s(l,u),s(u,o),s(o,i),s(i,c),s(u,r),s(u,h),s(h,a),s(h,f),s(h,b),s(u,y),s(u,_),s(_,I),s(_,j),s(_,k),s(_,B),s(_,D),s(_,Q),s(_,M),s(u,E),s(u,L),s(L,T),s(L,x),s(L,g),s(l,v),s(l,C),s(C,Y),s(Y,N),be(N,t[0]),t[17](N),s(C,ge),s(C,U),P&&P.m(U,null),s(U,oe);for(let F=0;F<O.length;F+=1)O[F]&&O[F].m(U,null);ie||(_e=[A(i,"click",t[9]),A(a,"click",t[14]),A(b,"click",t[15]),A(I,"click",t[10]),A(k,"click",ot),A(D,"change",t[11]),A(M,"click",t[12]),A(T,"click",t[7]),A(g,"click",t[8]),A(N,"input",t[16])],ie=!0)},p(w,[z]){if(z&16&&d!==(d="editor-button "+(w[4]?"button-primary":""))&&m(i,"class",d),z&16&&te!==(te=w[4]?"splitted":"")&&m(N,"class",te),z&1&&be(N,w[0]),z&16&&ne!==(ne="one-third column editor "+(w[4]?"":"hidden"))&&m(Y,"class",ne),w[1].title.length?P?P.p(w,z):(P=ke(w),P.c(),P.m(U,oe)):P&&(P.d(1),P=null),z&8230){K=ue(w[1].lines);let F;for(F=0;F<K.length;F+=1){const pe=ve(w,K,F);O[F]?O[F].p(pe,z):(O[F]=Le(pe),O[F].c(),O[F].m(U,null))}for(;F<O.length;F+=1)O[F].d(1);O.length=K.length}z&16&&le!==(le="column content "+(w[4]?"splitted two-thirds":""))&&m(U,"class",le)},i:H,o:H,d(w){w&&W(e),t[17](null),P&&P.d(),We(O,w),ie=!1,q(_e)}}}function ot(){document.getElementById("uploadFile").click()}function ee(t){var e,n;return((e=t.left)==null?void 0:e.start)??((n=t.right)==null?void 0:n.start)??-1}function it(t,e,n){t.focus();const l=t.value;t.value=l.substring(0,n),t.scrollTop=t.scrollHeight,t.value=l,t.setSelectionRange(e,n)}function rt(t,e){var n=e.getBoundingClientRect(),l=t.clientY-n.top,u=n.bottom-n.top;return l<u/2?0:1}function st(t,e,n){const l=`!!Language Learning Tool

try to+click on words and buttons

попробуй нажать на слова и кнопки
let's learn
давай изучать

your language
твой язык

(hover a+word and press "Q" for fun)
наведи на+слово и нажми "Q" для веселья
-
while you're+enjoying+it
пока тебе+это+нравится
`;let u=null,o="",i,c=!0,d={};window.onload=()=>{n(0,o=i.value)};let r={title:"",lines:[]};window.onbeforeunload=function(g){o.trim()!=""&&g.preventDefault()},document.body.addEventListener("keydown",g=>{g.code=="KeyQ"&&(u!=null&&u.length)&&(g.preventDefault(),window.open("https://wooordhunt.ru/word/"+u))});function h(g){if(g){const v={};r.lines.flatMap(C=>C.words.map(ee)).forEach(C=>{v[C]=!0}),n(5,d=v)}else n(5,d={})}function a(){n(4,c=!0),(!o.length||confirm("Are you sure? Your text will be discarded"))&&n(0,o=l)}async function f(){n(4,c=!1),h(!1),await Ne(),print()}function b(){n(4,c=!c)}function y(){confirm("Are you sure? Your text will be discarded")&&(n(4,c=!0),n(0,o=""))}function _(){const g=document.getElementById("uploadFile").files[0];g&&I(g,document.querySelector(".editor>textarea"))}function I(g,v){const C=new FileReader;C.addEventListener("load",Y=>{n(0,o=Y.target.result.toString()),document.getElementById("uploadFile").value=null}),C.readAsText(g)}function j(){let g=document.title+"-"+Date.now()+".txt",v=document.createElement("a");v.download=g;let C=new Blob([""+o],{type:"text/plain"});v.href=URL.createObjectURL(C),v.click(),URL.revokeObjectURL(v.href)}function k(g,v){if(c)v.right&&v.left?rt(g,g.currentTarget)==1?B(v.right):B(v.left):v.right?B(v.right):v.left&&B(v.left);else{const C=ee(v);d[C]?delete d[C]:n(5,d[C]=!0,d),n(5,d),n(0,o)}}function B(g){it(i,g.start,g.end)}const D=()=>h(!0),Q=()=>h(!1);function M(){o=this.value,n(0,o)}function E(g){ce[g?"unshift":"push"](()=>{i=g,n(3,i)})}const L=g=>{var v;return n(2,u=(v=g.left)==null?void 0:v.value)},T=()=>n(2,u=void 0),x=(g,v)=>k(v,g);return t.$$.update=()=>{t.$$.dirty&3&&(n(1,r=Ve(o)),document.title=r.title),t.$$.dirty&1&&n(5,d={})},[o,r,u,i,c,d,h,a,f,b,y,_,j,k,D,Q,M,E,L,T,x]}class ct extends Xe{constructor(e){super(),Ke(this,e,st,ut,Ae,{})}}new ct({target:document.getElementById("app")});
